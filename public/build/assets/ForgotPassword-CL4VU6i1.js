import{s as b}from"./index-BQZiKnc3.js";import{s as y}from"./index-DwgFE2-j.js";import{f as v,r as x,g as $,c as V,a as r,e as t,w as n,u as s,h as k,i as F,j as z,k as B,t as i,l as S,s as j,m as C,F as E,o as c}from"./app-DFbNOtFq.js";import{s as N}from"./index-CSeOzglK.js";/* empty css            */const T={class:"flex mt-8 flex-col h-[400px] justify-evenly"},P={class:"text-center"},M={for:"email"},D={class:"flex xs:flex-col gap-2 sm:justify-between sm:items-center"},q={__name:"ForgotPassword",props:["errors"],setup(l){const p=v(),u=x("GE"),e=$({phone_country:u.value,phone:null});async function d(){e.post(route("forgot-password.send-verification-code"),{preserveState:!0,onSuccess:o=>{e.reset()},onError:o=>{console.log(o),p.add({severity:"error",summary:"Error",detail:o.email??"Something went wrong, try again.",group:"reset-password",life:12e3})}})}return(o,a)=>{const m=N,f=j,g=C,h=y,_=b;return c(),V(E,null,[r(s(k),null,{default:n(()=>[...a[1]||(a[1]=[t("title",null,"Forgot Password",-1)])]),_:1}),t("div",T,[t("form",{onSubmit:F(d,["prevent"]),class:"flex flex-col bg-white p-8 gap-6 self-center w-full sm:w-[450px] rounded-lg"},[t("p",P,i(o.$t("authorize.forgot_password_header")),1),Object.keys(l.errors)?.length>0?(c(),z(m,{key:0,severity:"error",icon:"pi pi-exclamation-circle",closable:!1},{default:n(()=>[S(i(l.errors.phone),1)]),_:1})):B("",!0),r(g,{variant:"on"},{default:n(()=>[r(f,{id:"email",modelValue:s(e).phone,"onUpdate:modelValue":a[0]||(a[0]=w=>s(e).phone=w),class:"p-3",invalid:!!s(e).errors.phone,fluid:""},null,8,["modelValue","invalid"]),t("label",M,i(o.$t("authorize.phone_number")),1)]),_:1}),t("div",D,[r(h,{disabled:s(e).processing,type:"submit",class:"custom-button w-full",label:s(e).processing?o.$t("authorize.wait"):o.$t("authorize.continue"),size:"medium",icon:s(e).processing?"pi pi-spin pi-spinner":"pi pi-user"},null,8,["disabled","label","icon"])])],32)]),r(_,{position:"bottom-right",group:"reset-password"})],64)}}};export{q as default};
