import{g as Z,b as U,c as V,d as Q,n as q,f as z,m as A,h as w,s as j,j as ee,k as R,S as ae,N as te,a as le}from"./navigation-BFrF1Edx.js";import{o as _,c as I,a as D,b as ne,w as W,F as se,an as ie,ae as oe,u as K,am as G,ag as re,ah as F,aJ as de}from"./app-DFVQZLTp.js";function ce({swiper:e,extendParams:S,on:y,emit:C}){const r=Z(),f=U();e.keyboard={enabled:!1},S({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0,speed:void 0}});function x(H){if(!e.enabled)return;const{rtlTranslate:$}=e;let g=H;g.originalEvent&&(g=g.originalEvent);const E=g.keyCode||g.charCode,P=e.params.keyboard.pageUpDown,k=P&&E===33,T=P&&E===34,M=E===37,t=E===39,a=E===38,l=E===40;if(!e.allowSlideNext&&(e.isHorizontal()&&t||e.isVertical()&&l||T)||!e.allowSlidePrev&&(e.isHorizontal()&&M||e.isVertical()&&a||k))return!1;if(g.shiftKey||g.altKey||g.ctrlKey||g.metaKey||r.activeElement&&(r.activeElement.isContentEditable||r.activeElement.nodeName&&(r.activeElement.nodeName.toLowerCase()==="input"||r.activeElement.nodeName.toLowerCase()==="textarea")))return;if(e.params.keyboard.onlyInViewport&&(k||T||M||t||a||l)){let h=!1;if(V(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&V(e.el,`.${e.params.slideActiveClass}`).length===0)return;const b=e.el,p=b.clientWidth,n=b.clientHeight,u=f.innerWidth,c=f.innerHeight,v=Q(b);$&&(v.left-=b.scrollLeft);const s=[[v.left,v.top],[v.left+p,v.top],[v.left,v.top+n],[v.left+p,v.top+n]];for(let d=0;d<s.length;d+=1){const o=s[d];if(o[0]>=0&&o[0]<=u&&o[1]>=0&&o[1]<=c){if(o[0]===0&&o[1]===0)continue;h=!0}}if(!h)return}const i=e.params.keyboard.speed;e.isHorizontal()?((k||T||M||t)&&(g.preventDefault?g.preventDefault():g.returnValue=!1),((T||t)&&!$||(k||M)&&$)&&e.slideNext(i),((k||M)&&!$||(T||t)&&$)&&e.slidePrev(i)):((k||T||a||l)&&(g.preventDefault?g.preventDefault():g.returnValue=!1),(T||l)&&e.slideNext(i),(k||a)&&e.slidePrev(i)),C("keyPress",E)}function L(){e.keyboard.enabled||(r.addEventListener("keydown",x),e.keyboard.enabled=!0)}function m(){e.keyboard.enabled&&(r.removeEventListener("keydown",x),e.keyboard.enabled=!1)}y("init",()=>{e.params.keyboard.enabled&&L()}),y("destroy",()=>{e.keyboard.enabled&&m()}),Object.assign(e.keyboard,{enable:L,disable:m})}function fe({swiper:e,extendParams:S,on:y,emit:C}){const r=U();S({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let f,x=z(),L;const m=[];function H(a){let b=0,p=0,n=0,u=0;return"detail"in a&&(p=a.detail),"wheelDelta"in a&&(p=-a.wheelDelta/120),"wheelDeltaY"in a&&(p=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=p,p=0),n=b*10,u=p*10,"deltaY"in a&&(u=a.deltaY),"deltaX"in a&&(n=a.deltaX),a.shiftKey&&!n&&(n=u,u=0),(n||u)&&a.deltaMode&&(a.deltaMode===1?(n*=40,u*=40):(n*=800,u*=800)),n&&!b&&(b=n<1?-1:1),u&&!p&&(p=u<1?-1:1),{spinX:b,spinY:p,pixelX:n,pixelY:u}}function $(){e.enabled&&(e.mouseEntered=!0)}function g(){e.enabled&&(e.mouseEntered=!1)}function E(a){return e.params.mousewheel.thresholdDelta&&a.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&z()-x<e.params.mousewheel.thresholdTime?!1:a.delta>=6&&z()-x<60?!0:(a.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),C("scroll",a.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),C("scroll",a.raw)),x=new r.Date().getTime(),!1)}function P(a){const l=e.params.mousewheel;if(a.direction<0){if(e.isEnd&&!e.params.loop&&l.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&l.releaseOnEdges)return!0;return!1}function k(a){let l=a,i=!0;if(!e.enabled||a.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const h=e.params.mousewheel;e.params.cssMode&&l.preventDefault();let b=e.el;e.params.mousewheel.eventsTarget!=="container"&&(b=document.querySelector(e.params.mousewheel.eventsTarget));const p=b&&b.contains(l.target);if(!e.mouseEntered&&!p&&!h.releaseOnEdges)return!0;l.originalEvent&&(l=l.originalEvent);let n=0;const u=e.rtlTranslate?-1:1,c=H(l);if(h.forceToAxis)if(e.isHorizontal())if(Math.abs(c.pixelX)>Math.abs(c.pixelY))n=-c.pixelX*u;else return!0;else if(Math.abs(c.pixelY)>Math.abs(c.pixelX))n=-c.pixelY;else return!0;else n=Math.abs(c.pixelX)>Math.abs(c.pixelY)?-c.pixelX*u:-c.pixelY;if(n===0)return!0;h.invert&&(n=-n);let v=e.getTranslate()+n*h.sensitivity;if(v>=e.minTranslate()&&(v=e.minTranslate()),v<=e.maxTranslate()&&(v=e.maxTranslate()),i=e.params.loop?!0:!(v===e.minTranslate()||v===e.maxTranslate()),i&&e.params.nested&&l.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const s={time:z(),delta:Math.abs(n),direction:Math.sign(n),raw:a};m.length>=2&&m.shift();const d=m.length?m[m.length-1]:void 0;if(m.push(s),d?(s.direction!==d.direction||s.delta>d.delta||s.time>d.time+150)&&E(s):E(s),P(s))return!0}else{const s={time:z(),delta:Math.abs(n),direction:Math.sign(n)},d=L&&s.time<L.time+500&&s.delta<=L.delta&&s.direction===L.direction;if(!d){L=void 0;let o=e.getTranslate()+n*h.sensitivity;const B=e.isBeginning,J=e.isEnd;if(o>=e.minTranslate()&&(o=e.minTranslate()),o<=e.maxTranslate()&&(o=e.maxTranslate()),e.setTransition(0),e.setTranslate(o),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!B&&e.isBeginning||!J&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:s.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(f),f=void 0,m.length>=15&&m.shift();const N=m.length?m[m.length-1]:void 0,Y=m[0];if(m.push(s),N&&(s.delta>N.delta||s.direction!==N.direction))m.splice(0);else if(m.length>=15&&s.time-Y.time<500&&Y.delta-s.delta>=1&&s.delta<=6){const X=n>0?.8:.2;L=s,m.splice(0),f=q(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,X)},0)}f||(f=q(()=>{if(e.destroyed||!e.params)return;const X=.5;L=s,m.splice(0),e.slideToClosest(e.params.speed,!0,void 0,X)},500))}if(d||C("scroll",l),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),h.releaseOnEdges&&(o===e.minTranslate()||o===e.maxTranslate()))return!0}}return l.preventDefault?l.preventDefault():l.returnValue=!1,!1}function T(a){let l=e.el;e.params.mousewheel.eventsTarget!=="container"&&(l=document.querySelector(e.params.mousewheel.eventsTarget)),l[a]("mouseenter",$),l[a]("mouseleave",g),l[a]("wheel",k)}function M(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",k),!0):e.mousewheel.enabled?!1:(T("addEventListener"),e.mousewheel.enabled=!0,!0)}function t(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,k),!0):e.mousewheel.enabled?(T("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}y("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&t(),e.params.mousewheel.enabled&&M()}),y("destroy",()=>{e.params.cssMode&&M(),e.mousewheel.enabled&&t()}),Object.assign(e.mousewheel,{enable:M,disable:t})}function O(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function ue({swiper:e,extendParams:S,on:y,emit:C}){const r="swiper-pagination";S({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let f,x=0;function L(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function m(t,a){const{bulletActiveClass:l}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${l}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${l}-${a}-${a}`)))}function H(t,a,l){if(t=t%l,a=a%l,a===t+1)return"next";if(a===t-1)return"previous"}function $(t){const a=t.target.closest(O(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const l=R(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===l)return;const i=H(e.realIndex,l,e.slides.length);i==="next"?e.slideNext():i==="previous"?e.slidePrev():e.slideToLoop(l)}else e.slideTo(l)}function g(){const t=e.rtl,a=e.params.pagination;if(L())return;let l=e.pagination.el;l=A(l);let i,h;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,p=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(h=e.previousRealIndex||0,i=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(i=e.snapIndex,h=e.previousSnapIndex):(h=e.previousIndex||0,i=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const n=e.pagination.bullets;let u,c,v;if(a.dynamicBullets&&(f=ee(n[0],e.isHorizontal()?"width":"height"),l.forEach(s=>{s.style[e.isHorizontal()?"width":"height"]=`${f*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&h!==void 0&&(x+=i-(h||0),x>a.dynamicMainBullets-1?x=a.dynamicMainBullets-1:x<0&&(x=0)),u=Math.max(i-x,0),c=u+(Math.min(n.length,a.dynamicMainBullets)-1),v=(c+u)/2),n.forEach(s=>{const d=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(o=>`${a.bulletActiveClass}${o}`)].map(o=>typeof o=="string"&&o.includes(" ")?o.split(" "):o).flat();s.classList.remove(...d)}),l.length>1)n.forEach(s=>{const d=R(s);d===i?s.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&s.setAttribute("part","bullet"),a.dynamicBullets&&(d>=u&&d<=c&&s.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),d===u&&m(s,"prev"),d===c&&m(s,"next"))});else{const s=n[i];if(s&&s.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&n.forEach((d,o)=>{d.setAttribute("part",o===i?"bullet-active":"bullet")}),a.dynamicBullets){const d=n[u],o=n[c];for(let B=u;B<=c;B+=1)n[B]&&n[B].classList.add(...`${a.bulletActiveClass}-main`.split(" "));m(d,"prev"),m(o,"next")}}if(a.dynamicBullets){const s=Math.min(n.length,a.dynamicMainBullets+4),d=(f*s-f)/2-v*f,o=t?"right":"left";n.forEach(B=>{B.style[e.isHorizontal()?o:"top"]=`${d}px`})}}l.forEach((n,u)=>{if(a.type==="fraction"&&(n.querySelectorAll(O(a.currentClass)).forEach(c=>{c.textContent=a.formatFractionCurrent(i+1)}),n.querySelectorAll(O(a.totalClass)).forEach(c=>{c.textContent=a.formatFractionTotal(p)})),a.type==="progressbar"){let c;a.progressbarOpposite?c=e.isHorizontal()?"vertical":"horizontal":c=e.isHorizontal()?"horizontal":"vertical";const v=(i+1)/p;let s=1,d=1;c==="horizontal"?s=v:d=v,n.querySelectorAll(O(a.progressbarFillClass)).forEach(o=>{o.style.transform=`translate3d(0,0,0) scaleX(${s}) scaleY(${d})`,o.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(j(n,a.renderCustom(e,i+1,p)),u===0&&C("paginationRender",n)):(u===0&&C("paginationRender",n),C("paginationUpdate",n)),e.params.watchOverflow&&e.enabled&&n.classList[e.isLocked?"add":"remove"](a.lockClass)})}function E(){const t=e.params.pagination;if(L())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let l=e.pagination.el;l=A(l);let i="";if(t.type==="bullets"){let h=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&h>a&&(h=a);for(let b=0;b<h;b+=1)t.renderBullet?i+=t.renderBullet.call(e,b,t.bulletClass):i+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?i=t.renderFraction.call(e,t.currentClass,t.totalClass):i=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?i=t.renderProgressbar.call(e,t.progressbarFillClass):i=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],l.forEach(h=>{t.type!=="custom"&&j(h,i||""),t.type==="bullets"&&e.pagination.bullets.push(...h.querySelectorAll(O(t.bulletClass)))}),t.type!=="custom"&&C("paginationRender",l[0])}function P(){e.params.pagination=w(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.find(l=>V(l,".swiper")[0]===e.el))),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=A(a),a.forEach(l=>{t.type==="bullets"&&t.clickable&&l.classList.add(...(t.clickableClass||"").split(" ")),l.classList.add(t.modifierClass+t.type),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(l.classList.add(`${t.modifierClass}${t.type}-dynamic`),x=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&l.classList.add(t.progressbarOppositeClass),t.clickable&&l.addEventListener("click",$),e.enabled||l.classList.add(t.lockClass)}))}function k(){const t=e.params.pagination;if(L())return;let a=e.pagination.el;a&&(a=A(a),a.forEach(l=>{l.classList.remove(t.hiddenClass),l.classList.remove(t.modifierClass+t.type),l.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(l.classList.remove(...(t.clickableClass||"").split(" ")),l.removeEventListener("click",$))})),e.pagination.bullets&&e.pagination.bullets.forEach(l=>l.classList.remove(...t.bulletActiveClass.split(" ")))}y("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=A(a),a.forEach(l=>{l.classList.remove(t.horizontalClass,t.verticalClass),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),y("init",()=>{e.params.pagination.enabled===!1?M():(P(),E(),g())}),y("activeIndexChange",()=>{typeof e.snapIndex>"u"&&g()}),y("snapIndexChange",()=>{g()}),y("snapGridLengthChange",()=>{E(),g()}),y("destroy",()=>{k()}),y("enable disable",()=>{let{el:t}=e.pagination;t&&(t=A(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),y("lock unlock",()=>{g()}),y("click",(t,a)=>{const l=a.target,i=A(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&i&&i.length>0&&!l.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&l===e.navigation.nextEl||e.navigation.prevEl&&l===e.navigation.prevEl))return;const h=i[0].classList.contains(e.params.pagination.hiddenClass);C(h===!0?"paginationShow":"paginationHide"),i.forEach(b=>b.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=A(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),P(),E(),g()},M=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=A(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),k()};Object.assign(e.pagination,{enable:T,disable:M,render:E,update:g,init:P,destroy:k})}const me={key:0,class:"mt-10 px-4 mb-6"},ge=["onClick"],he={class:"aspect-square overflow-hidden bg-gray-50"},be=["src","alt"],ve={key:1,class:"w-full h-full flex items-center justify-center"},pe={class:"p-3"},ye={class:"text-xs text-gray-700 line-clamp-2 mb-2 leading-snug"},Ce={class:"flex flex-col sm:flex-row gap-2 items-center justify-between"},xe={class:"text-sm font-bold text-brand-500"},Ee={key:0,class:"w-2 h-2 rounded-full bg-emerald-700 animate-pulse"},ke={key:1,class:"w-2 h-2 rounded-full bg-red-500"},Me={__name:"SwiperCarousel",props:{items:Array,mousewheel:{type:Boolean,default:!0}},setup(e){const S=[te,ue,fe,ce];function y(C){de.get(route("items.show",C.slug))}return(C,r)=>e.items?.length?(_(),I("div",me,[r[1]||(r[1]=D("h2",{class:"sm:text-lg font-semibold text-gray-800 mb-4"},"მსგავსი პროდუქტები",-1)),ne(K(le),{modules:S,"space-between":16,navigation:!0,pagination:{clickable:!0},mousewheel:e.mousewheel,keyboard:!0,breakpoints:{320:{slidesPerView:2},640:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:5}}},{default:W(()=>[(_(!0),I(se,null,ie(e.items,f=>(_(),oe(K(ae),{key:f.id,zoom:!0},{default:W(()=>[D("div",{onClick:x=>y(f),class:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden cursor-pointer hover:shadow-md transition-shadow"},[D("div",he,[f.images?.length?(_(),I("img",{key:0,src:`/storage/items/${f.images[0]}`,alt:f.name,class:"w-full h-full object-cover"},null,8,be)):(_(),I("div",ve,[...r[0]||(r[0]=[D("i",{class:"pi pi-image text-3xl text-gray-300"},null,-1)])]))]),D("div",pe,[D("p",ye,G(f.name),1),D("div",Ce,[D("span",xe,"₾"+G(f.unit_price),1),D("div",{class:re(["flex items-center gap-x-1 text-xs px-2.5 py-0.5 rounded-full font-medium tracking-wide",f.inventory>0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-600"])},[f.inventory>0?(_(),I("div",Ee)):F("",!0),!f.inventory>0?(_(),I("div",ke)):F("",!0),D("span",null,G(f.inventory>0?"მარაგშია":"მარაგში არაა"),1)],2)])])],8,ge)]),_:2},1024))),128))]),_:1},8,["mousewheel"])])):F("",!0)}};export{Me as _};
